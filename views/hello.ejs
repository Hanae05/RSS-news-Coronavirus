<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title><%= title %></title>
        <link rel='stylesheet' href="/stylesheets/style.css" />
    </head>
    
    <body>
        <header>
            <h1><%= title %></h1>
        </header>
        <div role="main">
            <% if (content != null) { %>
                <ol>
                    <!-- 日付順になっていないもの -->
                    <% var hash = new Array %>
                    <% for (var i in content) { %>
                        <% var obj = content[i]; %>
                        <% hash.push(obj); %>
                        <% var NewPubDate = new Date(obj.pubDate) ;
                            var Week = new Array( "日","月","火","水","木","金","土" );
                            var date = NewPubDate.getFullYear() + "/" + NewPubDate.getMonth() + "/" + NewPubDate.getDay() + " " + NewPubDate.getHours() + ":" + NewPubDate.getMinutes() + ":" + NewPubDate.getSeconds();
                            obj.pubDate = date;
                        %>
                        <li><%= date %><a href="<%=obj.link %>"><%= obj.title %></a></li>
                        </tr>
                    <% } %> 


                    <!-- 日付順になっているが、日付の表示形式がおかしいもの -->
                    <% hash.sort(function(a,b) {
                        return (a.pubDate < b.pubDate ? 1 : -1);
                    }); %>

                    <% for (var i in hash) { %>
                        <% var obj2 = hash[i] %>
                        <li><%= obj2.pubDate %><a href="<%=obj2.link %>"><%= obj2.title %></a></li>
                        <% console.log(hash); %>
                    <% } %>

                    

                    <!-- よく分からんやつ -->
                    <% var hash = new Array(); %>
                    <% var date2; %>
                    <% for (var i in content) { %>
                        <% var obj = content[i]; %>
                        <%
                            var NewPubDate = new Date(obj.pubDate) ;
                            var Week = new Array( "日","月","火","水","木","金","土" );
                            var date = NewPubDate.getFullYear() + "/" + NewPubDate.getMonth() + "/" + NewPubDate.getDay();
                            date2 = date.trim();
                            hash.push(date2);
                        %>
                    <% } %>
                    <% const ascArray = [...hash].sort((a, b) => new Date(a) - new Date(b)); %>
                </ol>
            <% } %>
        </div>
    </body>
</html>